{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css">
<!-- Content of the page should go here -->

<style>
  .listingaroundpage {
    margin: 10px;
    padding: 10px;
  }

  .center {
    text-align: center;
  }

  .listing {
    margin: 5px;
    padding: 5px;
  }
</style>

<div class="listingaroundpage">
  <div class="listing">
    <div class="center">
      <div class="box">
        <div class="columns">

          <head>
            <div class="column is-two-fifths">
              <figure class="image is-256x256">
                <img src={{ listing.listing_image_links }}>
                <!-- <img
                  src="https://hgtvhome.sndimg.com/content/dam/images/hgtv/fullset/2019/2/7/3/BP_HHMTN310_Bolden_home-exterior_AFTER_0132.jpg.rend.hgtvcom.966.644.suffix/1549585070420.jpeg"> -->
              </figure>
            </div>
            <div class="column">
              <h1 class="title">{{ listing.listing_address_number }} {{ listing.listing_address_street }}
                <br>{{ listing.listing_address_city }}, {{ listing.listing_address_state }}
                <br>{{ listing.listing_address_zip }}
              </h1>
              <br>
              <h2 class="subtitle">
                <p> Status: 
                  {% if listing.listing_status == "comingsoon" %}
                  Coming Soon
                  {% elif listing.listing_status == "available" %}
                  Active
                  {% elif listing.listing_status == "pending" %}
                  Pending
                  {% else %}
                  Closed
                  {% endif %} </p>
                <p> Sale: {{ listing.sale }} </p>
                <p> Rent: {{ listing.rent }} </p>
                <p> Price: {{ listing.pretty_price }} </p>
              </h2>
            </div>
        </div>
        </head>
      </div>
    </div>
  </div>

  <div class="listing">

    <body>
      <div class="columns">
        <div class="column is-three-fifths">
          <div class="block">
            <p> {{ listing.listing_description }} </p>
          </div>
          <div class="block">
            <p> MLS Number: {{ listing.listing_mls_number }} </p>
            <p>Listing Type:  
              {% if listing.listing_type == "sfr" %}
              Single Family Home
              {% elif listing.listing_type == "condo" %}
              Condominium
              {% else %}
              Vacant
              {% endif %}
            </p>
            <p> Original Price: {{ listing.pretty_original_price }} </p>
            <p> Structure Style: {{ listing.listing_structure_style }} </p>
          </div>
        </div>

        <div class="column">
          <div class="block">
            <p> Bedroom count: {{ listing.listing_bedroom_count }} </p>
            <p> Full Bathroom Count: {{ listing.listing_full_bath_count }} </p>
            <p> Half Bathroom Count: {{ listing.listing_half_bath_count }}</p>
            <p> Basement?: {{ listing.basement }} </p>
            <p> Waterfront?: {{ listing.waterfront }} </p>
            <p> Fireplace?: {{ listing.fireplace }} </p>
            <p> Garage?: {{ listing.garage }} </p>
            <p> Pool?: {{ listing.pool }} </p>
            <p> Ownership: {{ listing.listing_ownership }} </p>
            <p> School District: {{ listing.listing_school_district }}</p>
            <p> Garage Car Count: {{ listing.listing_garage_car_count }}</p>
            <p> Above Grade SqFt: {{ listing.pretty_sqft }}</p>
            <p> Acreage: {{ listing.listing_acreage }}</p>
            <p> Year Built: {{ listing.listing_year_built }}</p>
            <p> Date listed: {{ listing.listing_date }} </p>
            <!-- <p> Days on Market: {{ listing.str_days_on_market }} </p> -->
          </div>
        </div>
      </div>
    </body>
    <div class="columns">
      <div class="column is-half is-offset-one-quarter">
        <div class="box">
          <!-- TODO ideally this should display the agents contact information. -->
          <p> Agent License #: {{ agent.agent_license_number }}</p>
          <p> Name: {{ agent.agent_first_name }} {{ agent.agent_middle_initial }}. {{ agent.agent_last_name }}</p>
          <p>Office Phone Number: {{ agent.agent_office_area_code }}-{{ agent.agent_office_phone_number }}</p>
          <p>Cell Phone Number: {{ agent.agent_mobile_area_code }}-{{ agent.agent_mobile_phone_number }}</p>
          <p>Email: {{ agent.agent_email_address }}</p>
          <p>Office Location: {{ agent.agent_office_street }} 
            <br>{{ agent.agent_office_city }}, {{ agent.agent_office_state }}
            {{ agent.agent_office_zip }}</p>
        </div>
      </div>
    </div>
    <button onclick="location.href = '/listing/{{ listing.listing_mls_number }}/edit';" id="edit">Edit</button>
  </div>
</div>

{% endblock content %}